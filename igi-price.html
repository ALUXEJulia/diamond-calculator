<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IGI 培育鑽石價格查詢</title>
  <style>
    body { font-family: 'Noto Sans TC', sans-serif; background: #fff; margin: 0; padding: 2rem; color: #333; }
    .container { max-width: 520px; margin: 2rem auto; padding: 2rem; border-radius: 1rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05); background: #fff; text-align: center; }
    h1 { font-size: 1.5rem; color: #b89f51; margin-bottom: 1.5rem; }
    .logo { height: 80px; margin-bottom: 1rem; }
    label { display: block; margin-top: 1rem; text-align: left; color: #444; font-weight: 500; }
    input, select { width: 100%; padding: 0.6rem; font-size: 1rem; border: 1px solid #ccc;
      border-radius: 0.5rem; margin-top: 0.4rem; }
    .result { margin-top: 1.5rem; font-size: 1.1rem; color: #b89f51; font-weight: bold; }
    footer { margin-top: 1.5rem; font-size: 0.85rem; color: #aaa; }
  </style>
</head>
<body>
  <div class="container">
    <img src="public/logo.png" alt="logo" class="logo" style="max-width: 140px; height: auto; margin-bottom: 10px;" />
    <h1>IGI 培育鑽石價格查詢</h1>

    <label>克拉數：</label>
    <input type="number" id="carat" step="0.01" placeholder="例如 1.50" />

    <label>顏色：</label>
    <select id="color"></select>

    <label>淨度：</label>
    <select id="clarity"></select>

    <div class="result" id="result">請輸入資料後查詢</div>

    <footer>© 2025 JOY COLORi<br>版本：v10.14</footer>
  </div>

  <script>
    const rate = 32.5;
    const priceTable = {
      "0.30-0.39": {
        "D": { "IF": 355, "VVS1": 235, "VVS2": 205, "VS1": 205, "VS2": 195 },
        "E": { "VVS1": 230, "VVS2": 200, "VS1": 200, "VS2": 190 },
        "F": { "VVS1": 230, "VVS2": 200, "VS1": 200, "VS2": 190 }
      },
      "0.40-0.49": {
        "D": { "IF": 1045, "VVS1": 905, "VVS2": 685, "VS1": 685, "VS2": 670 }
      },
      "0.50-0.69": {
        "D": { "IF": 1045, "VVS1": 905, "VVS2": 700, "VS1": 685, "VS2": 570 },
        "E": { "VVS1": 885, "VVS2": 685, "VS1": 670, "VS2": 650 },
        "F": { "VVS1": 885, "VVS2": 685, "VS1": 670, "VS2": 650 },
        "F Vivid Pink": { "VVS2": 1850, "VS1": 1850, "VS2": 1850 },
        "F Intense Pink": { "VVS2": 2195, "VS1": 2195, "VS2": 2195 }
      },
      "0.70-0.99": {
        "D": { "IF": 1155, "VVS1": 1005, "VVS2": 770, "VS1": 755, "VS2": 740 },
        "E": { "VVS1": 985, "VVS2": 755, "VS1": 740, "VS2": 725 },
        "F": { "VVS1": 985, "VVS2": 755, "VS1": 740, "VS2": 725 },
        "F Vivid Pink": { "VVS2": 1850, "VS1": 1850, "VS2": 1850 },
        "F Intense Pink": { "VVS2": 2195, "VS1": 2195, "VS2": 2195 }
      },
      "1.00-1.99": {
        "D": { "IF": 1155, "VVS1": 1005, "VVS2": 770, "VS1": 755, "VS2": 740 },
        "E": { "VVS1": 985, "VVS2": 755, "VS1": 740, "VS2": 725 },
        "F": { "VVS1": 985, "VVS2": 755, "VS1": 740, "VS2": 725 },
        "F Vivid Pink": { "VVS2": 2775, "VS1": 2775, "VS2": 2775 },
        "F Intense Pink": { "VVS2": 2635, "VS1": 2635, "VS2": 2635 },
        "F Vivid Blue": { "VVS2": 1665, "VS1": 1665, "VS2": 1665 },
        "F Intense Blue": { "VVS2": 1585, "VS1": 1585, "VS2": 1585 },
        "F Vivid Yellow": { "VVS2": 1760, "VS1": 1760, "VS2": 1760 },
        "F Intense Yellow": { "VVS2": 1670, "VS1": 1670, "VS2": 1670 }
      },
      "2.00-2.99": {
        "D": { "IF": 1480, "VVS1": 1285, "VVS2": 990, "VS1": 975, "VS2": 955 },
        "E": { "VVS1": 1265, "VVS2": 975, "VS1": 955, "VS2": 925 },
        "F": { "VVS1": 1265, "VVS2": 975, "VS1": 955, "VS2": 925 },
        "F Vivid Pink": { "VVS2": 2775, "VS1": 2775, "VS2": 2775 },
        "F Intense Pink": { "VVS2": 2635, "VS1": 2635, "VS2": 2635 },
        "F Vivid Blue": { "VVS2": 1850, "VS1": 1850, "VS2": 1850 },
        "F Intense Blue": { "VVS2": 1760, "VS1": 1760, "VS2": 1760 },
        "F Vivid Yellow": { "VVS2": 2310, "VS1": 2310, "VS2": 2310 },
        "F Intense Yellow": { "VVS2": 2195, "VS1": 2195, "VS2": 2195 }
      },
      "3.00-3.99": {
        "D": { "IF": 1480, "VVS1": 1285, "VVS2": 990, "VS1": 975, "VS2": 955 },
        "E": { "VVS1": 1265, "VVS2": 975, "VS1": 955, "VS2": 940 },
        "F": { "VVS1": 1265, "VVS2": 975, "VS1": 955, "VS2": 925 },
        "F Vivid Pink": { "VVS2": 2775, "VS1": 2775, "VS2": 2775 },
        "F Intense Pink": { "VVS2": 2635, "VS1": 2635, "VS2": 2635 },
        "F Vivid Blue": { "VVS2": 2310, "VS1": 2310, "VS2": 2310 },
        "F Intense Blue": { "VVS2": 2195, "VS1": 2195, "VS2": 2195 },
        "F Vivid Yellow": { "VVS2": 3235, "VS1": 3235, "VS2": 3235 },
        "F Intense Yellow": { "VVS2": 3075, "VS1": 3075, "VS2": 3075 }
      },
      "4.00-4.99": {
        "D": { "IF": 2310, "VVS1": 2005, "VVS2": 1540, "VS1": 1525, "VS2": 1510 },
        "E": { "VVS1": 1985, "VVS2": 1525, "VS1": 1510, "VS2": 1495 },
        "F": { "VVS1": 1985, "VVS2": 1525, "VS1": 1510, "VS2": 1495 },
        "F Vivid Pink": { "VVS2": 2775, "VS1": 2775, "VS2": 2775 },
        "F Intense Pink": { "VVS2": 2635, "VS1": 2635, "VS2": 2635 },
        "F Vivid Blue": { "VVS2": 2310, "VS1": 2310, "VS2": 2310 },
        "F Intense Blue": { "VVS2": 2195, "VS1": 2195, "VS2": 2195 },
        "F Vivid Yellow": { "VVS2": 3235, "VS1": 3235, "VS2": 3235 },
        "F Intense Yellow": { "VVS2": 3075, "VS1": 3075, "VS2": 3075 }
      },
      "5.00-5.99": {
        "D": { "IF": 2310, "VVS1": 2005, "VVS2": 1540, "VS1": 1525, "VS2": 1510 },
        "E": { "VVS1": 1985, "VVS2": 1525, "VS1": 1510, "VS2": 1495 },
        "F": { "VVS1": 1985, "VVS2": 1525, "VS1": 1510, "VS2": 1495 },
        "F Vivid Pink": { "VVS2": 2775, "VS1": 2775, "VS2": 2775 },
        "F Intense Pink": { "VVS2": 2635, "VS1": 2635, "VS2": 2635 },
        "F Vivid Blue": { "VVS2": 2310, "VS1": 2310, "VS2": 2310 },
        "F Intense Blue": { "VVS2": 2195, "VS1": 2195, "VS2": 2195 },
        "F Vivid Yellow": { "VVS2": 3235, "VS1": 3235, "VS2": 3235 },
        "F Intense Yellow": { "VVS2": 3075, "VS1": 3075, "VS2": 3075 }
      },
      "6.00+": {
        "D": { "IF": 3235, "VVS1": 2805, "VVS2": 2160, "VS1": 2145, "VS2": 2130 },
        "E": { "VVS1": 2785, "VVS2": 2145, "VS1": 2130, "VS2": 2110 },
        "F": { "VVS1": 2785, "VVS2": 2145, "VS1": 2130, "VS2": 2110 },
        "F Vivid Pink": { "VVS2": 2775, "VS1": 2775, "VS2": 2775 },
        "F Intense Pink": { "VVS2": 2635, "VS1": 2635, "VS2": 2635 },
        "F Vivid Blue": { "VVS2": 2310, "VS1": 2310, "VS2": 2310 },
        "F Intense Blue": { "VVS2": 2195, "VS1": 2195, "VS2": 2195 },
        "F Vivid Yellow": { "VVS2": 3235, "VS1": 3235, "VS2": 3235 },
        "F Intense Yellow": { "VVS2": 3075, "VS1": 3075, "VS2": 3075 }
      }
    };

    const colorSelect = document.getElementById('color');
    const claritySelect = document.getElementById('clarity');
    const resultDiv = document.getElementById('result');

    const allColors = [...new Set(Object.values(priceTable).flatMap(obj => Object.keys(obj)))];
    const allClarities = [...new Set(Object.values(priceTable).flatMap(obj => Object.values(obj)).flatMap(o => Object.keys(o)))];

    allColors.forEach(c => {
      const opt = document.createElement('option');
      opt.value = c;
      opt.textContent = c;
      colorSelect.appendChild(opt);
    });
    allClarities.forEach(c => {
      const opt = document.createElement('option');
      opt.value = c;
      opt.textContent = c;
      claritySelect.appendChild(opt);
    });

    function getRange(carat) {
      for (let range in priceTable) {
        if (range.includes('+')) {
          if (carat >= parseFloat(range)) return range;
        } else {
          const [min, max] = range.split('-').map(parseFloat);
          if (carat >= min && carat <= max) return range;
        }
      }
      return null;
    }

    function calculate() {
      const carat = parseFloat(document.getElementById('carat').value);
      const color = colorSelect.value;
      const clarity = claritySelect.value;

      if (!carat) {
        resultDiv.innerHTML = '請輸入克拉數';
        return;
      }
      const range = getRange(carat);
      if (!range) {
        resultDiv.innerHTML = '找不到對應的價格區間';
        return;
      }
      const usd = priceTable[range]?.[color]?.[clarity];
      if (usd === undefined) {
        resultDiv.innerHTML = '此條件尚無定價';
        return;
      }
      const twd = Math.round(usd * rate * carat).toLocaleString();
      resultDiv.innerHTML =
        `每克拉價格 (USD): ${usd}<br>` +
        `計算區間: ${range}ct<br>` +
        `<span style="color:#b89f51; font-weight:bold;">售價 (TWD): ${twd} 元</span>`;
    }

    document.getElementById('carat').addEventListener('input', calculate);
    colorSelect.addEventListener('change', calculate);
    claritySelect.addEventListener('change', calculate);
  </script>
</body>
</html>
